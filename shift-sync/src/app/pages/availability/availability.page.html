<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Unavailability</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon slot="icon-only" name="notifications-outline"></ion-icon>
      </ion-button>
      <ion-button>
        <span class="user-badge">User</span>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="roster-content">
  <!-- Header Section -->
  <div class="page-header">
    <h1>Employee Unavailability</h1>
    <p>Manage and view employee unavailability details</p>
  </div>

  <!-- Main Card -->
  <div class="main-card">
    <div class="card-header">
      <h2>Unavailability Manager</h2>
    </div>

    <!-- Employee Selection Panel -->
    <div class="control-panel employee-panel">
      <h3>Select Employee</h3>
      <div class="employee-selection">
        <ion-item>
          <ion-label position="stacked">Employee</ion-label>
          <ion-select interface="popover" [(ngModel)]="selectedEmployee" (ionChange)="onEmployeeSelected()" placeholder="Select employee">
            <ion-select-option *ngFor="let employee of employees" [value]="employee">
              {{employee.name}}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </div>
    </div>

    <!-- Unavailability Table -->
    <div class="table-container">
      <table class="roster-table">
        <thead>
          <tr>
            <th>Employee</th>
            <th>Type</th>
            <th>Reason</th>
            <th>Start</th>
            <th>End</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let unavailability of availabilities">
            <td>{{ getEmployeeName(unavailability.employee) }}</td>
            <td>{{ unavailability.type }}</td>
            <td>{{ unavailability.reason }}</td>
            <td>{{ formatDate(unavailability.start) }}</td>
            <td>{{ formatDate(unavailability.end) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</ion-content>
