<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" name="ion-menu-button">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Departments</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="toggleAddSection()">
        <ion-icon slot="start" name="add"></ion-icon>
        + Add Department
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="container">
    <!-- Departments Table -->
    <table class="data-table">
      <thead>
        <tr>
          <th>Department Name</th>
          <th>Description</th>
          <th>Number of Employees</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let department of departments">
          <td>{{ department.name }}</td>
          <td>{{ department.description }}</td>
          <td>{{ department.employees }}</td>
          <td class="actions">
            <button class="action-button edit-icon" (click)="editDepartment(department)">            
            </button>            
            <button class="action-button delete-icon" (click)="deleteDepartment(department)">
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Add Department Section -->
    <div class="modal-backdrop" *ngIf="showAddSection">
      <div class="container add-section">
        <button class="modal-close" (click)="cancelAdd()">&times;</button>
        <h2>Add New Department</h2>
        <form (ngSubmit)="saveDepartment()" #deptForm="ngForm">
          <div class="form-group">
            <label for="departmentName">Department Name</label>
            <input 
              type="text" 
              id="departmentName" 
              name="name" 
              [(ngModel)]="newDepartment.name" 
              required 
              placeholder="Enter department name">
          </div>
          <div class="form-group">
            <label for="departmentDescription">Description</label>
            <textarea 
              id="departmentDescription" 
              name="description" 
              [(ngModel)]="newDepartment.description" 
              required 
              placeholder="Enter a description"></textarea>
          </div>
          <div class="form-group">
            <label for="departmentEmployees">Number of Employees</label>
            <input 
              type="number" 
              id="departmentEmployees" 
              name="employees" 
              [(ngModel)]="newDepartment.employees" 
              required 
              placeholder="0">
          </div>
          <div class="buttons">
            <button type="button" class="cancel" (click)="cancelAdd()">Cancel</button>
            <button type="submit" class="save" [disabled]="deptForm.invalid">Save Department</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</ion-content>
